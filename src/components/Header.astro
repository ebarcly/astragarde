---
import Logo from "./Logo.astro";
import LogoWhite from "./LogoWhite.astro";
import Cart from "$/svgs/Cart.astro";
import SearchIcon from "$/svgs/SearchIcon.astro";
import Hamburger from "$/svgs/Hamburger.astro";
---

<div
  id="mainHeader"
  class="absolute top-0 z-50 w-full transition-all duration-300 section-padding-x"
>
  <nav class="grid w-full grid-cols-3 items-center p-8">
    <div class="flex justify-start">
      <button id="openSidebar" class="cursor-pointer"
        ><Hamburger color="white" /></button
      >
    </div>

    <div class="flex justify-center">
      <div class="lg:max-h-8"><LogoWhite /></div>
    </div>

    <div class="flex justify-end gap-4">
      <a><SearchIcon color="white" /></a>
      <span><Cart color="white" /></span>
    </div>
  </nav>
</div>

<div
  id="scrolledHeader"
  class="fixed top-0 z-40 w-full translate-y-[-100%] transition-all duration-300 section-padding-x bg-mainbg"
>
  <nav class="grid w-full grid-cols-3 items-center p-8">
    <div class="flex justify-start">
      <button id="openSidebarScrolled" class="cursor-pointer"
        ><Hamburger /></button
      >
    </div>

    <div class="flex justify-center">
      <div class="lg:max-h-8"><Logo /></div>
    </div>

    <div class="flex justify-end gap-4">
      <a><SearchIcon /></a>
      <span><Cart /></span>
    </div>
  </nav>
</div>

<script>
  const scrolledHeader = document.getElementById("scrolledHeader");

  window.addEventListener("scroll", () => {
    if (window.scrollY > 200) {
      scrolledHeader?.classList.remove("translate-y-[-100%]");
    } else {
      scrolledHeader?.classList.add("translate-y-[-100%]");
    }
  });
</script>
